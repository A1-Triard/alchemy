SCPT
SCTX
    Begin A1V4_AAdd24_FortEndur_sc
    
    short in1
    short in2
    short in3
    short in4
    short in5
    short in6
    short in7
    short in8
    short sum
    short temp
    short state
    
    short PCSkipEquip
    short OnPCEquip
    
    set PCSkipEquip to 1
    
    if ( state == 2 )
    	set A1V4_ACheck24_FortEndur_sc.AddPotion to 1
    	StartScript A1V4_AlchemyCheck_sc
    	set state to 0
    	return
    endif
    
    if ( state == 1 )
    	if ( ScriptRunning A1V4_CalcAlchemy5_sc == 0 )
    		set state to 2
    	endif
    	return
    endif
    
    if ( OnPCEquip == 1 )
    set OnPCEquip to 0
    
    set in1 to 0
    set in2 to 0
    set in3 to 0
    set in4 to 0
    set in5 to 0
    set in6 to 0
    set in7 to 0
    set in8 to 0
    
    if ( player->GetItemCount ingred_netch_leather_01 > 0 )
    	set in1 to 1
    endif
    if ( player->GetItemCount ingred_wolf_heart > 0 )
    	set in2 to 1
    endif
    if ( player->GetItemCount ingred_daedras_heart_01 > 0 )
    	set in3 to 1
    endif
    if ( player->GetItemCount ingred_innocent_heart > 0 )
    	set in4 to 1
    endif
    if ( player->GetItemCount ingred_udyrfrykte_heart > 0 )
    	set in5 to 1
    endif
    if ( player->GetItemCount ingred_guar_hide_01 > 0 )
    	set in6 to 1
    endif
    if ( player->GetItemCount ingred_guar_hide_girith > 0 )
    	set in7 to 1
    endif
    if ( player->GetItemCount ingred_guar_hide_marsus > 0 )
    	set in8 to 1
    endif
    
    set sum to ( in1 )
    set sum to ( sum + in2 + in3 + in4 )
    set sum to ( sum + in5 + in6 + in7 )
    set sum to ( sum + in8 )
    set temp to ( in2 + in3 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in2 + in4 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in2 + in5 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in3 + in4 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in3 + in5 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in4 + in5 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in6 + in7 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in6 + in8 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in7 + in8 )
    if ( temp > 1 )
    	set sum to 0
    endif
    if ( sum > 1 )
    	if ( in1 > 0 )
    		player->RemoveItem ingred_netch_leather_01, 1
    	endif
    	if ( in2 > 0 )
    		player->RemoveItem ingred_wolf_heart, 1
    	endif
    	if ( in3 > 0 )
    		player->RemoveItem ingred_daedras_heart_01, 1
    	endif
    	if ( in4 > 0 )
    		player->RemoveItem ingred_innocent_heart, 1
    	endif
    	if ( in5 > 0 )
    		player->RemoveItem ingred_udyrfrykte_heart, 1
    	endif
    	if ( in6 > 0 )
    		player->RemoveItem ingred_guar_hide_01, 1
    	endif
    	if ( in7 > 0 )
    		player->RemoveItem ingred_guar_hide_girith, 1
    	endif
    	if ( in8 > 0 )
    		player->RemoveItem ingred_guar_hide_marsus, 1
    	endif
    	set state to 1
    	set A1V4_CalcAlchemy5_sc.in to sum
    	set A1V4_CalcAlchemy5 to 1
    else
    	StartScript A1V4_AlchemyCheck_sc
    endif
    
    endif
    
    End
