SCTX
    Begin A1V4_AAdd11_Poison_sc
    
    short in1
    short in2
    short in3
    short in4
    short in5
    short in6
    short in7
    short in8
    short in9
    short in10
    short sum
    short temp
    short state
    
    short PCSkipEquip
    short OnPCEquip
    
    set PCSkipEquip to 1
    
    if ( state == 2 )
    	set A1V4_ACheck11_Poison_sc.AddPotion to 1
    	StartScript A1V4_AlchemyCheck_sc
    	set state to 0
    	return
    endif
    
    if ( state == 1 )
    	if ( ScriptRunning A1V4_CalcAlchemy2_sc == 0 )
    		set state to 2
    	endif
    	return
    endif
    
    if ( OnPCEquip == 1 )
    set OnPCEquip to 0
    
    set in1 to 0
    set in2 to 0
    set in3 to 0
    set in4 to 0
    set in5 to 0
    set in6 to 0
    set in7 to 0
    set in8 to 0
    set in9 to 0
    set in10 to 0
    
    if ( player->GetItemCount "al_i_rat_eye" > 0 )
    	set in1 to 1
    endif
    if ( player->GetItemCount "al_i_shalk_mandible" > 0 )
    	set in2 to 1
    endif
    if ( player->GetItemCount "ingred_black_lichen_01" > 0 )
    	set in3 to 1
    endif
    if ( player->GetItemCount "ingred_ghoul_heart_01" > 0 )
    	set in4 to 1
    endif
    if ( player->GetItemCount "ingred_rat_meat_01" > 0 )
    	set in5 to 1
    endif
    if ( player->GetItemCount "ingred_raw_ebony_01" > 0 )
    	set in6 to 1
    endif
    if ( player->GetItemCount "ingred_roobrush_01" > 0 )
    	set in7 to 1
    endif
    if ( player->GetItemCount "ingred_scathecraw_01" > 0 )
    	set in8 to 1
    endif
    if ( player->GetItemCount "ingred_scrib_jelly_01" > 0 )
    	set in9 to 1
    endif
    if ( player->GetItemCount "ingred_scrib_jelly_02" > 0 )
    	set in10 to 1
    endif
    
    set sum to ( in1 + in2 )
    set sum to ( sum + in3 )
    set sum to ( sum + in4 )
    set sum to ( sum + in5 )
    set sum to ( sum + in6 )
    set sum to ( sum + in7 )
    set sum to ( sum + in8 )
    set sum to ( sum + in9 )
    set sum to ( sum + in10 )
    set temp to ( in3 + in8 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in4 + in5 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in7 + in8 )
    if ( temp > 1 )
    	set sum to 0
    endif
    set temp to ( in9 + in10 )
    if ( temp > 1 )
    	set sum to 0
    endif
    if ( sum > 1 )
    	if ( in1 > 0 )
    		player->RemoveItem "al_i_rat_eye", 1
    	endif
    	if ( in2 > 0 )
    		player->RemoveItem "al_i_shalk_mandible", 1
    	endif
    	if ( in3 > 0 )
    		player->RemoveItem "ingred_black_lichen_01", 1
    	endif
    	if ( in4 > 0 )
    		player->RemoveItem "ingred_ghoul_heart_01", 1
    	endif
    	if ( in5 > 0 )
    		player->RemoveItem "ingred_rat_meat_01", 1
    	endif
    	if ( in6 > 0 )
    		player->RemoveItem "ingred_raw_ebony_01", 1
    	endif
    	if ( in7 > 0 )
    		player->RemoveItem "ingred_roobrush_01", 1
    	endif
    	if ( in8 > 0 )
    		player->RemoveItem "ingred_scathecraw_01", 1
    	endif
    	if ( in9 > 0 )
    		player->RemoveItem "ingred_scrib_jelly_01", 1
    	endif
    	if ( in10 > 0 )
    		player->RemoveItem "ingred_scrib_jelly_02", 1
    	endif
    	set state to 1
    	set A1V4_CalcAlchemy2_sc.in to sum
    	set A1V4_CalcAlchemy2 to 1
    else
    	StartScript A1V4_AlchemyCheck_sc
    endif
    
    endif
    
    End
